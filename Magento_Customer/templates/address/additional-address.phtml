<?php
/**
 * ViraXpress - https://www.viraxpress.com
 *
 * LICENSE AGREEMENT
 *
 * This file is part of the ViraXpress package and is licensed under the ViraXpress license agreement.
 * You can view the full license at:
 * https://www.viraxpress.com/license
 *
 * By utilizing this file, you agree to comply with the terms outlined in the ViraXpress license.
 *
 * DISCLAIMER
 *
 * Modifications to this file are discouraged to ensure seamless upgrades and compatibility with future releases.
 *
 * @author      ViraXpress
 * @copyright   Â© 2024 ViraXpress (https://www.viraxpress.com/)
 * @license     https://www.viraxpress.com/license
 */

/** @var \Magento\Customer\Block\Address\Grid $block */
$customerAddressView = $block->getData('customer_address');
?>

<div class="block w-full shadow-sm border border-gray-100 rounded-lg mb-5 p-4 bg-white">
    <div class="font-semibold text-xl text-primary">
        <?= $escaper->escapeHtml(__('Additional Address Entries')) ?>
    </div>
</div>

<div class="block w-full shadow-sm border border-gray-100 rounded-lg mb-5 p-4 bg-white">
    <?php if ($_pAddsses = $block->getAdditionalAddresses()): ?>
        <table class="min-w-full divide-y divide-gray-300 table border-collapse">
            <tbody class="divide-y divide-gray-200">
                <tr>
                    <td class="table-cell w-[115px]">
                        <div class="p-2 text-left text-sm font-semibold text-gray-900">
                            <?= $escaper->escapeHtml(__('First Name')) ?>
                        </div>
                    </td>
                    <td class="table-cell w-[115px]">
                        <div class="p-2 text-left text-sm font-semibold text-gray-900">
                            <?= $escaper->escapeHtml(__('Last Name')) ?>
                        </div>
                    </td>
                    <td class="table-cell w-[115px]">
                        <div class="p-2 text-left text-sm font-semibold text-gray-900">
                            <?= $escaper->escapeHtml(__('Street Address')) ?>
                        </div>
                    </td>
                    <td class="table-cell w-[115px]">
                        <div class="p-2 text-left text-sm font-semibold text-gray-900">
                            <?= $escaper->escapeHtml(__('City')) ?>
                        </div>
                    </td>
                    <td class="table-cell w-[115px]">
                        <div class="p-2 text-left text-sm font-semibold text-gray-900">
                            <?= $escaper->escapeHtml(__('Country')) ?>
                        </div>
                    </td>
                    <td class="table-cell w-[115px]">
                        <div class="p-2 text-left text-sm font-semibold text-gray-900">
                            <?= $escaper->escapeHtml(__('State')) ?>
                        </div>
                    </td>
                    <td class="table-cell w-[115px]">
                        <div class="p-2 text-left text-sm font-semibold text-gray-900">
                            <?= $escaper->escapeHtml(__('Zip/Postal Code')) ?>
                        </div>
                    </td>
                    <td class="table-cell w-[115px]">
                        <div class="p-2 text-left text-sm font-semibold text-gray-900">
                            <?= $escaper->escapeHtml(__('Phone')) ?>
                        </div>
                    </td>
                </tr>
                <?php foreach ($_pAddsses as $address): ?>
                    <tr>
                        <td data-th="<?= $escaper->escapeHtml(__('First Name')) ?>" class="p-2 text-sm text-gray-500 table-cell align-middle">
                            <?= $escaper->escapeHtml($address->getFirstname()) ?>
                        </td>
                        <td data-th="<?= $escaper->escapeHtml(__('Last Name')) ?>" class="p-2 text-sm text-gray-500 table-cell align-middle">
                            <?= $escaper->escapeHtml($address->getLastname()) ?>
                        </td>
                        <td data-th="<?= $escaper->escapeHtml(__('Street Address')) ?>" class="p-2 text-sm text-gray-500 table-cell align-middle">
                            <?= $escaper->escapeHtml($block->getStreetAddress($address)) ?>
                        </td>
                        <td data-th="<?= $escaper->escapeHtml(__('City')) ?>" class="p-2 text-sm text-gray-500 table-cell align-middle">
                            <?= $escaper->escapeHtml($address->getCity()) ?>
                        </td>
                        <td data-th="<?= $escaper->escapeHtml(__('Country')) ?>" class="p-2 text-sm text-gray-500 table-cell align-middle">
                            <?= $escaper->escapeHtml($block->getCountryByCode($address->getCountryId())) ?>
                        </td>
                        <td data-th="<?= $escaper->escapeHtml(__('State')) ?>" class="p-2 text-sm text-gray-500 table-cell align-middle">
                            <?= $escaper->escapeHtml($address->getRegion()->getRegion()) ?>
                        </td>
                        <td data-th="<?= $escaper->escapeHtml(__('Zip/Postal Code')) ?>" class="p-2 text-sm text-gray-500 table-cell align-middle">
                            <?= $escaper->escapeHtml($address->getPostcode()) ?>
                        </td>
                        <td data-th="<?= $escaper->escapeHtml(__('Phone')) ?>" class="p-2 text-sm text-gray-500 table-cell align-middle">
                            <?= $escaper->escapeHtml($address->getTelephone()) ?>
                        </td>
                        <td data-th="<?= $escaper->escapeHtml(__('Actions')) ?>" class="p-2 text-sm text-gray-500 table-cell align-middle space-x-3">
                            <div class="flex justify-center items-center space-x-5">
                                <a class="inline-block text-primary" title="Edit" href="<?= $escaper->escapeUrl($block->getUrl('customer/address/edit', ['id' => $address->getId()])) ?>">
                                    <span>
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path>
                                        </svg>
                                    </span>
                                </a>
                                <a class="inline-block text-red-600" href="#" title="Delete" role="delete-address" data-address="<?= $escaper->escapeHtmlAttr($address->getId()) ?>">
                                    <span>
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" />
                                        </svg>
                                    </span>
                                </a>
                            </div>
                        </td>
                    </tr>
                <?php endforeach; ?>
            </tbody>
        </table>
        <?php if ($block->getChildHtml('customer.address.pager')): ?>
           <div class="flex justify-between items-center gap-x-5 my-5">
               <?= $block->getChildHtml('customer.address.pager') ?>
           </div>
        <?php endif ?>
    <?php else: ?>
        <div class="w-full block text-center py-5">
            <div class="text-gray-400 inline-block">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" viewBox="0 0 512.001 512.001" ><g><path d="M447.229 67.855h-43.181v-43.18C404.049 11.103 392.944 0 379.379 0H64.771C51.2 0 40.097 11.103 40.097 24.675V419.47c0 13.571 11.103 24.675 24.675 24.675h43.181v43.181c0 13.571 11.098 24.675 24.675 24.675h209.729c13.565 0 32.762-7.612 42.638-16.908l68.929-64.882c9.888-9.296 17.969-28.012 17.969-41.583l.012-296.096c-.001-13.573-11.105-24.677-24.676-24.677zM107.951 92.531v333.108h-43.18c-3.343 0-6.168-2.825-6.168-6.168V24.675c0-3.343 2.825-6.168 6.168-6.168H379.38c3.337 0 6.168 2.825 6.168 6.168v43.181H132.626c-13.577 0-24.675 11.103-24.675 24.675zM441.24 416.737l-68.929 64.877c-1.412 1.327-3.251 2.628-5.281 3.867v-56.758c0-4.238 1.709-8.051 4.528-10.888 2.844-2.819 6.656-4.533 10.894-4.533h61.718c-.957 1.3-1.937 2.497-2.93 3.435zm12.145-28.111c0 1.832-.334 3.954-.839 6.168h-70.095c-18.721.037-33.89 15.206-33.928 33.928v64.024c-2.202.445-4.324.746-6.168.746H132.626v.001c-3.35 0-6.168-2.825-6.168-6.168V92.53c0-3.343 2.819-6.168 6.168-6.168h314.602c3.343 0 6.168 2.825 6.168 6.168l-.011 296.096z" fill="currentColor"></path><path d="M379.379 154.216H200.488a9.248 9.248 0 0 0-9.253 9.253 9.249 9.249 0 0 0 9.253 9.253h178.891c5.108 0 9.253-4.139 9.253-9.253s-4.145-9.253-9.253-9.253zM379.379 277.59H200.488a9.248 9.248 0 0 0-9.253 9.253 9.249 9.249 0 0 0 9.253 9.253h178.891a9.252 9.252 0 0 0 9.253-9.253 9.251 9.251 0 0 0-9.253-9.253zM299.187 339.277h-98.698c-5.114 0-9.253 4.139-9.253 9.253s4.139 9.253 9.253 9.253h98.698c5.108 0 9.247-4.139 9.247-9.253s-4.139-9.253-9.247-9.253zM379.379 215.903H200.488c-5.114 0-9.253 4.139-9.253 9.253s4.14 9.253 9.253 9.253h178.891c5.108 0 9.253-4.139 9.253-9.253s-4.145-9.253-9.253-9.253z" fill="currentColor"></path></g></svg>
            </div>
            <p class="mt-2 text-gray-400">
                <?= $escaper->escapeHtml(__('You have no other address entries in your address book.')) ?>
            </p>
            <button type="button" role="add-address" title="<?= $escaper->escapeHtmlAttr(__('Add New Address')) ?>" class="mt-5 inline-flex items-center justify-center rounded-md border border-transparent bg-primary px-5 py-2 text-sm font-semibold text-white shadow-sm transition-all hover:bg-primary/70 focus:ring-2 focus:ring-offset-2 focus:bg-primary focus:ring-primary">
                <span>
                    <?= $escaper->escapeHtml(__('Add New Address')) ?>
                </span>
            </button>
       </div>
    <?php endif ?>
</div>
